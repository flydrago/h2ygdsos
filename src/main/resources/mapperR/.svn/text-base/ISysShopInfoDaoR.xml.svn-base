<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.h2y.os.dao.read.ISysShopInfoDaoR">

	<resultMap type="java.util.Map" id="shopinfoDaoMap">
		<result property="id" column="id" javaType="long" jdbcType="BIGINT" />
		<result property="shopId" column="shop_id" javaType="long" jdbcType="BIGINT" />
		<result property="shopPhone" column="shop_phone" javaType="string" jdbcType="VARCHAR" />
		<result property="shopTel" column="shop_tel" javaType="string" jdbcType="VARCHAR" />
		<result property="isWifi" column="is_wifi" javaType="int" jdbcType="INTEGER" />
		<result property="isPark" column="is_park" javaType="int" jdbcType="INTEGER" />
		<result property="isReservation" column="is_reservation" javaType="int" jdbcType="INTEGER" />
		<result property="isJyd" column="is_jyd" javaType="int" jdbcType="INTEGER" />
		<result property="status" column="status" javaType="int" jdbcType="INTEGER" />
		<result property="personCost" column="person_cost" javaType="double" jdbcType="DOUBLE" />
		<result property="hoursStart" column="hours_start" javaType="string" jdbcType="VARCHAR" />
		<result property="hoursEnd" column="hours_end" javaType="string" jdbcType="VARCHAR" />
		<result property="memo" column="memo" javaType="string" jdbcType="VARCHAR" />
		<result property="isApprove" column="is_approve" javaType="int" jdbcType="INTEGER" />
		<result property="approveLevel" column="approve_level" javaType="int" jdbcType="INTEGER" />
		<result property="approveDate" column="approve_date" javaType="date" jdbcType="TIMESTAMP" />
		<result property="approveUserId" column="approve_user_id" javaType="long" jdbcType="BIGINT" />
		<result property="approveReviews" column="approve_reviews" javaType="string" jdbcType="VARCHAR" />
		<result property="isSpread" column="is_spread" javaType="int" jdbcType="INTEGER" />
		<result property="spreadStartDate" column="spread_start_date" javaType="date" jdbcType="TIMESTAMP" />
		<result property="spreadEndDate" column="spread_end_date" javaType="date" jdbcType="TIMESTAMP" />
		<result property="reverse1" column="reverse_1" javaType="string" jdbcType="VARCHAR" />
		<result property="reverse2" column="reverse_2" javaType="string" jdbcType="VARCHAR" />
		<result property="reverse3" column="reverse_3" javaType="string" jdbcType="VARCHAR" />
		<result property="reverse4" column="reverse_4" javaType="string" jdbcType="VARCHAR" />
		<result property="createDate" column="create_date" javaType="date" jdbcType="TIMESTAMP" />
		<result property="updateDate" column="update_date" javaType="date" jdbcType="TIMESTAMP" />
	</resultMap>
	

	<resultMap type="java.util.Map" id="departmentDaoMap">
		<result property="id" column="id" javaType="long" jdbcType="BIGINT" />
		<result property="deptCode" column="dept_code" javaType="string" jdbcType="VARCHAR" />
		<result property="unitId" column="unit_id" javaType="long" jdbcType="BIGINT" />
		<result property="parentId" column="parent_id" javaType="long" jdbcType="BIGINT" />
		<result property="deptLeader" column="dept_leader" javaType="long" jdbcType="BIGINT" />
		<result property="deptName" column="dept_name" javaType="string" jdbcType="VARCHAR" />
		<result property="deptShortName" column="dept_short_name" javaType="string" jdbcType="VARCHAR" />
		<result property="deptDesc" column="dept_desc" javaType="string" jdbcType="VARCHAR" />
		<result property="deptOrd" column="dept_ord" javaType="long" jdbcType="BIGINT" />
		<result property="deptType" column="dept_type" javaType="long" jdbcType="BIGINT" />
		<result property="ifDelete" column="if_delete" javaType="long" jdbcType="BIGINT" />
		<result property="position" column="position" javaType="string" jdbcType="VARCHAR" />
		<result property="gpsLongitude" column="gps_longitude" javaType="double" jdbcType="DOUBLE" />
		<result property="gpsLatitude" column="gps_latitude" javaType="double" jdbcType="DOUBLE" />
		<result property="reverse1" column="reverse_1" javaType="string" jdbcType="VARCHAR" />
		<result property="reverse2" column="reverse_2" javaType="string" jdbcType="VARCHAR" />
		<result property="ifHasShop" column="if_has_shop" javaType="long" jdbcType="BIGINT" />
	</resultMap>
	
	<resultMap type="java.util.Map" id="shopfileDaoMap">
		<result property="id" column="id" javaType="long" jdbcType="BIGINT" />
		<result property="shopId" column="shop_id" javaType="long" jdbcType="BIGINT" />
		<result property="status" column="status" javaType="int" jdbcType="INTEGER" />
		<result property="fileName" column="file_name" javaType="string" jdbcType="VARCHAR" />
		<result property="diskFileName" column="disk_file_name" javaType="string" jdbcType="VARCHAR" />
		<result property="rootPath" column="root_path" javaType="string" jdbcType="VARCHAR" />
		<result property="relativePath" column="relative_path" javaType="string" jdbcType="VARCHAR" />
		<result property="fileSize" column="file_size" javaType="long" jdbcType="BIGINT" />
		<result property="fileSuffix" column="file_suffix" javaType="string" jdbcType="VARCHAR" />
		<result property="fileType" column="file_type" javaType="int" jdbcType="INTEGER" />
		<result property="ord" column="ord" javaType="int" jdbcType="INTEGER" />
		<result property="createDate" column="create_date" javaType="date" jdbcType="TIMESTAMP" />
		<result property="updateDate" column="update_date" javaType="date" jdbcType="TIMESTAMP" />
	</resultMap>
	
	
	
	<select id="getShopInfoByShopId" parameterType="long" resultMap="shopinfoDaoMap">
		select * from tb_sys_shop_info where shop_id = #{shopId}
	</select>
	

	<select id="getDepartmentById" parameterType="long" resultMap="departmentDaoMap">
		select * from tb_sys_department where id = #{id}
	</select>
	
	<!-- 获取图片列表 -->
	<select id="getFileList" parameterType="long" resultMap="shopfileDaoMap">
		select t.* ,CONCAT('?bn=localServiceDown&amp;id=',CAST(t.id AS CHAR)) as img
		from tb_sys_shop_file t where t.shop_id = #{shopId} and t.status = 0
	</select>
	
	
	
</mapper>